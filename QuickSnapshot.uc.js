// ==UserScript==
// @name            QuickSnapshot.uc.js
// @description     可移动多功能截图按钮 
// @author          Runningcheese
// @namespace       https://www.runningcheese.com
// @include         main
// @license         MIT License
// @compatibility   Firefox 90+
// @charset         UTF-8
// @version         2021-07-28 for ff90
// @version         2019-12-20 for ff71
// @version         2019-09-23 for ff70
// @version         2018-12-19 for ff64
// @version         2018-03-18 for ff57
// @version         2017.04.02 
// @version         2017.02.05 
// @version         2016.01.05 
// @homepage        https://www.runningcheese.com/firefox-v10
// ==/UserScript==

//载入脚本
function jsonToDOM(json, doc, nodes) {

    var namespaces = {
        html: 'http://www.w3.org/1999/xhtml',
        xul: 'http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul'
    };
    var defaultNamespace = namespaces.html;

    function namespace(name) {
        var m = /^(?:(.*):)?(.*)$/.exec(name);        
        return [namespaces[m[1]], m[2]];
    }

    function tag(name, attr) {
        if (Array.isArray(name)) {
            var frag = doc.createDocumentFragment();
            Array.prototype.forEach.call(arguments, function (arg) {
                if (!Array.isArray(arg[0]))
                    frag.appendChild(tag.apply(null, arg));
                else
                    arg.forEach(function (arg) {
                        frag.appendChild(tag.apply(null, arg));
                    });
            });
            return frag;
        }

        var args = Array.prototype.slice.call(arguments, 2);
        var vals = namespace(name);
        var elem = doc.createElementNS(vals[0] || defaultNamespace, vals[1]);

        for (var key in attr) {
            var val = attr[key];
            if (nodes && key == 'id')
                nodes[val] = elem;

            vals = namespace(key);
            if (typeof val == 'function')
                elem.addEventListener(key.replace(/^on/, ''), val, false);
            else
                elem.setAttributeNS(vals[0] || '', vals[1], val);
        }
        args.forEach(function(e) {
            try {
                elem.appendChild(
                                    Object.prototype.toString.call(e) == '[object Array]'
                                    ?
                                        tag.apply(null, e)
                                    :
                                        e instanceof doc.defaultView.Node
                                        ?
                                            e
                                        :
                                            doc.createTextNode(e)
                                );
            } catch (ex) {
                elem.appendChild(doc.createTextNode(ex));
            }
        });
        return elem;
    }
    return tag.apply(null, json);
}


//定义按钮
CustomizableUI.createWidget({
    id: 'QuickSnapshot',
    defaultArea: CustomizableUI.AREA_NAVBAR,
    label: '截图',
    tooltiptext: '左键：截图\n右键：截图菜单',
    onCreated: function(aNode) {
        aNode.setAttribute('oncommand', 'takeSnapshot();');     

        
 //定义菜单      
        var myMenuJson = 
                                ['xul:menupopup', {id: 'QuickSnapshot_pop'},
                                ['xul:menuitem', {label: '隐藏火狐截图',oncommand: 'event.stopPropagation(); takeSnapshotHide();',class:'menuitem-iconic', image:'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0iY29udGV4dC1maWxsIiBmaWxsLW9wYWNpdHk9ImNvbnRleHQtZmlsbC1vcGFjaXR5IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik0gNy4zMzggNS4wNjUgTCA2LjQ1NiA1LjA2NSBMIDUuNTczIDUuMDY1IEwgNC42OSA1LjA2NSBMIDMuODA4IDUuMDY1IEwgMy44MDggNS45NDUgTCAzLjgwOCA2LjgyNCBMIDMuODA4IDcuNzAzIEwgMy44MDggOC41ODIgTCA0LjI0OSA4LjU4MiBMIDQuNjkxIDguNTgyIEwgNS4xMzIgOC41ODIgTCA1LjU3MyA4LjU4MiBMIDUuNTczIDguMTQzIEwgNS41NzMgNy43MDMgTCA1LjU3MyA3LjI2MyBMIDUuNTczIDYuODIzIEwgNi4wMTQgNi44MjMgTCA2LjQ1NiA2LjgyMyBMIDYuODk3IDYuODIzIEwgNy4zMzggNi44MjMgTSAxNi4xNjIgOC41ODIgTCAxNS43MjEgOC41ODIgTCAxNS4yNzkgOC41ODIgTCAxNC44MzggOC41ODIgTCAxNC4zOTcgOC41ODIgTCAxNC4zOTcgOS4wMjIgTCAxNC4zOTcgOS40NjEgTCAxNC4zOTcgOS45MDEgTCAxNC4zOTcgMTAuMzQgTCAxMy45NTUgMTAuMzQgTCAxMy41MTQgMTAuMzQgTCAxMy4wNzMgMTAuMzQgTCAxMi42MzEgMTAuMzQgTCAxMi42MzEgMTAuNzggTCAxMi42MzEgMTEuMjIgTCAxMi42MzEgMTEuNjYgTCAxMi42MzEgMTIuMDk5IEwgMTMuNTE0IDEyLjA5OSBMIDE0LjM5NyAxMi4wOTkgTCAxNS4yNzkgMTIuMDk5IEwgMTYuMTYyIDEyLjA5OSBNIDE3LjkyNiAxMy44NTcgTCAxMy45NTUgMTMuODU3IEwgOS45ODUgMTMuODU3IEwgNi4wMTUgMTMuODU3IEwgMi4wNDQgMTMuODU3IEwgMi4wNDQgMTEuMjE5IEwgMi4wNDQgOC41ODEgTCAyLjA0NCA1Ljk0MyBMIDIuMDQ0IDMuMzA2IEwgNi4wMTUgMy4zMDYgTCA5Ljk4NSAzLjMwNiBMIDEzLjk1NSAzLjMwNiBMIDE3LjkyNiAzLjMwNiBNIDE3LjkyNiAxLjU0OCBMIDEzLjk1NSAxLjU0OCBMIDkuOTg1IDEuNTQ4IEwgNi4wMTUgMS41NDggTCAyLjA0NCAxLjU0OCBDIDEuNzk5IDEuNTQ4IDEuNTY2IDEuNTk3IDEuMzU1IDEuNjg2IEMgMS4xNDQgMS43NzQgMC45NTQgMS45MDIgMC43OTQgMi4wNjEgQyAwLjYzNSAyLjIyIDAuNTA2IDIuNDEgMC40MTcgMi42MiBDIDAuMzI4IDIuODMxIDAuMjc5IDMuMDYzIDAuMjc5IDMuMzA2IEwgMC4yNzkgNS45NDQgTCAwLjI3OSA4LjU4MiBMIDAuMjc5IDExLjIyIEwgMC4yNzkgMTMuODU3IEMgMC4yNzkgMTQuMSAwLjMyOCAxNC4zMzEgMC40MTcgMTQuNTQyIEMgMC41MDYgMTQuNzUyIDAuNjM1IDE0Ljk0MiAwLjc5NSAxNS4xMDEgQyAwLjk1NSAxNS4yNjEgMS4xNDUgMTUuMzkgMS4zNTYgMTUuNDc5IEMgMS41NjggMTUuNTY4IDEuOCAxNS42MTcgMi4wNDQgMTUuNjE3IEwgMy41ODggMTUuNjE3IEwgNS4xMzIgMTUuNjE3IEwgNi42NzYgMTUuNjE3IEwgOC4yMiAxNS42MTcgTCA4LjIyIDE2LjA1NyBMIDguMjIgMTYuNDk2IEwgOC4yMiAxNi45MzYgTCA4LjIyIDE3LjM3NSBMIDcuNzc4IDE3LjM3NSBMIDcuMzM3IDE3LjM3NSBMIDYuODk2IDE3LjM3NSBMIDYuNDU1IDE3LjM3NSBMIDYuNDU1IDE3LjgxNSBMIDYuNDU1IDE4LjI1NSBMIDYuNDU1IDE4LjY5NSBMIDYuNDU1IDE5LjEzNCBMIDguMjIgMTkuMTM0IEwgOS45ODUgMTkuMTM0IEwgMTEuNzUgMTkuMTM0IEwgMTMuNTE1IDE5LjEzNCBMIDEzLjUxNSAxOC42OTUgTCAxMy41MTUgMTguMjU1IEwgMTMuNTE1IDE3LjgxNSBMIDEzLjUxNSAxNy4zNzUgTCAxMy4wNzMgMTcuMzc1IEwgMTIuNjMyIDE3LjM3NSBMIDEyLjE5IDE3LjM3NSBMIDExLjc0OSAxNy4zNzUgTCAxMS43NDkgMTYuOTM2IEwgMTEuNzQ5IDE2LjQ5NiBMIDExLjc0OSAxNi4wNTcgTCAxMS43NDkgMTUuNjE3IEwgMTMuMjkzIDE1LjYxNyBMIDE0LjgzOCAxNS42MTcgTCAxNi4zODIgMTUuNjE3IEwgMTcuOTI2IDE1LjYxNyBDIDE4LjE3IDE1LjYxNyAxOC40MDIgMTUuNTY4IDE4LjYxMyAxNS40NzkgQyAxOC44MjQgMTUuMzkgMTkuMDE0IDE1LjI2MSAxOS4xNzQgMTUuMTAxIEMgMTkuMzM0IDE0Ljk0MiAxOS40NjMgMTQuNzUyIDE5LjU1MiAxNC41NDIgQyAxOS42NDIgMTQuMzMxIDE5LjY5MSAxNC4xIDE5LjY5MSAxMy44NTcgTCAxOS42OTEgMTEuMjE5IEwgMTkuNjkxIDguNTgxIEwgMTkuNjkxIDUuOTQzIEwgMTkuNjkxIDMuMzA2IEMgMTkuNjkxIDMuMDYzIDE5LjY0MiAyLjgzMiAxOS41NTIgMi42MjEgQyAxOS40NjMgMi40MTEgMTkuMzM0IDIuMjIyIDE5LjE3NCAyLjA2MyBDIDE5LjAxNCAxLjkwNCAxOC44MjQgMS43NzUgMTguNjEzIDEuNjg2IEMgMTguNDAyIDEuNTk3IDE4LjE3IDEuNTQ4IDE3LjkyNiAxLjU0OCIgc3R5bGU9IiIvPgogIDxwYXRoIGQ9Ik0gNy4zMzggNS41NjUgTCA0LjMwOCA1LjU2NSBMIDQuMzA4IDguMDgyIEwgNS4wNzMgOC4wODIgTCA1LjA3MyA2LjMyMyBMIDcuMzM4IDYuMzIzIEwgNy4zMzggNy4zMjMgTCA2LjA3MyA3LjMyMyBMIDYuMDczIDkuMDgyIEwgMy4zMDggOS4wODIgTCAzLjMwOCA0LjU2NSBMIDcuMzM4IDQuNTY1IFogTSAxNi4xNjIgOS4wODIgTCAxNC44OTcgOS4wODIgTCAxNC44OTcgMTAuODQgTCAxMy4xMzEgMTAuODQgTCAxMy4xMzEgMTEuNTk5IEwgMTYuMTYyIDExLjU5OSBMIDE2LjE2MiAxMi41OTkgTCAxMi4xMzEgMTIuNTk5IEwgMTIuMTMxIDkuODQgTCAxMy44OTcgOS44NCBMIDEzLjg5NyA4LjA4MiBMIDE2LjE2MiA4LjA4MiBaIE0gMTcuOTI2IDE0LjM1NyBMIDEuNTQ0IDE0LjM1NyBMIDEuNTQ0IDIuODA2IEwgMTcuOTI2IDIuODA2IEwgMTcuOTI2IDMuODA2IEwgMi41NDQgMy44MDYgTCAyLjU0NCAxMy4zNTcgTCAxNy45MjYgMTMuMzU3IFogTSAxNy45MjYgMi4wNDggTCAyLjA0NCAyLjA0OCBDIDEuNjU2IDIuMDI2IDEuMzkxIDIuMTQ5IDEuMTQ3IDIuNDE1IEMgMC44OCAyLjY1OCAwLjc1NyAyLjkyMSAwLjc3OSAzLjMwNiBMIDAuNzc5IDEzLjg1NyBDIDAuNzU3IDE0LjI0MSAwLjg4MSAxNC41MDMgMS4xNDggMTQuNzQ3IEMgMS4zOTQgMTUuMDE1IDEuNjU4IDE1LjEzOSAyLjA0NCAxNS4xMTcgTCA4LjcyIDE1LjExNyBMIDguNzIgMTcuODc1IEwgNi45NTUgMTcuODc1IEwgNi45NTUgMTguNjM0IEwgMTMuMDE1IDE4LjYzNCBMIDEzLjAxNSAxNy44NzUgTCAxMS4yNDkgMTcuODc1IEwgMTEuMjQ5IDE1LjExNyBMIDE3LjkyNiAxNS4xMTcgQyAxOC4zMTIgMTUuMTM5IDE4LjU3NiAxNS4wMTUgMTguODIgMTQuNzQ3IEMgMTkuMDg5IDE0LjUwMyAxOS4yMTMgMTQuMjQxIDE5LjE5MSAxMy44NTcgTCAxOS4xOTEgMy4zMDYgQyAxOS4yMTMgMi45MjIgMTkuMDkgMi42NjEgMTguODIyIDIuNDE4IEMgMTguNTc3IDIuMTUxIDE4LjMxMiAyLjAyNiAxNy45MjYgMi4wNDggTCAxNy45MjYgMS4wNDggQyAxOC41MTYgMS4wNyAxOS4xMzMgMS4zNCAxOS41MjcgMS43MDkgQyAxOS44OTggMi4xMDIgMjAuMTY5IDIuNzE4IDIwLjE5MSAzLjMwNiBMIDIwLjE5MSAxMy44NTcgQyAyMC4xNjkgMTQuNDQ1IDE5Ljg5OSAxNS4wNjEgMTkuNTI3IDE1LjQ1NSBDIDE5LjEzMyAxNS44MjUgMTguNTE2IDE2LjA5NSAxNy45MjYgMTYuMTE3IEwgMTIuMjQ5IDE2LjExNyBMIDEyLjI0OSAxNi44NzUgTCAxNC4wMTUgMTYuODc1IEwgMTQuMDE1IDE5LjYzNCBMIDUuOTU1IDE5LjYzNCBMIDUuOTU1IDE2Ljg3NSBMIDcuNzIgMTYuODc1IEwgNy43MiAxNi4xMTcgTCAyLjA0NCAxNi4xMTcgQyAxLjQ1NCAxNi4wOTUgMC44MzYgMTUuODI1IDAuNDQxIDE1LjQ1NSBDIDAuMDcxIDE1LjA2MSAtMC4xOTkgMTQuNDQ1IC0wLjIyMSAxMy44NTcgTCAtMC4yMjEgMy4zMDYgQyAtMC4xOTkgMi43MTcgMC4wNzEgMi4xIDAuNDQyIDEuNzA2IEMgMC44MzUgMS4zMzggMS40NTIgMS4wNyAyLjA0NCAxLjA0OCBMIDE3LjkyNiAxLjA0OCBaIiBzdHlsZT0iZmlsbDogbm9uZTsiLz4KPC9zdmc+'}],
                                ['xul:menuitem', {label: '滚动截图工具',oncommand: 'event.stopPropagation(); window.document.getElementById("nav-bar-overflow-button").click(); window.setTimeout(function() {window.document.getElementById("screenshot-button").click();}, 0);',class:'menuitem-iconic', image:'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0iY29udGV4dC1maWxsIiBmaWxsLW9wYWNpdHk9ImNvbnRleHQtZmlsbC1vcGFjaXR5IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik0gNi4yMzMgMC42NSBMIDUuMzA5IDAuNjUgTCA0LjM4NCAwLjY1IEwgMy40NTkgMC42NSBMIDIuNTM0IDAuNjUgQyAyLjMwMyAwLjY2MSAxLjk4OSAwLjcyNSAxLjc5MSAwLjc5OCBDIDEuNTkyIDAuODkzIDEuMzI5IDEuMDY5IDEuMTc3IDEuMjA5IEMgMS4wMzQgMS4zNjQgMC44NTYgMS42MjUgMC43NjIgMS44MiBDIDAuNjg3IDIuMDIxIDAuNjIgMi4zNCAwLjYwOSAyLjU3MiBMIDAuNjA5IDMuNDk1IEwgMC42MDkgNC40MTcgTCAwLjYwOSA1LjMzOSBMIDAuNjA5IDYuMjYxIEwgMi42MDkgNi4yNjEgTCAyLjYwOSA1LjMzOSBMIDIuNjA5IDQuNDE3IEwgMi42MDkgMy40OTUgTCAyLjYwOSAyLjU3MiBDIDIuNTk4IDIuNTUgMi41ODUgMi42MiAyLjYwMiAyLjYwNCBDIDIuNjAxIDIuNTgzIDIuNTgzIDIuNjExIDIuNTggMi42MjIgQyAyLjU2OSAyLjYyNSAyLjU2MSAyLjYzMSAyLjU1NiAyLjYzNiBDIDIuNTQ1IDIuNjM1IDIuNTExIDIuNjM5IDIuNTM0IDIuNjUgTCAzLjQ1OSAyLjY1IEwgNC4zODQgMi42NSBMIDUuMzA5IDIuNjUgTCA2LjIzMyAyLjY1IFoiIHN0eWxlPSIiLz4KICA8cGF0aCBkPSJNIDYuMjMzIDE5LjI1MiBMIDUuMzA5IDE5LjI1MiBMIDQuMzg0IDE5LjI1MiBMIDMuNDU5IDE5LjI1MiBMIDIuNTM0IDE5LjI1MiBDIDIuMzAzIDE5LjI0MSAxLjk4MiAxOS4xNzQgMS43ODQgMTkuMTAxIEMgMS41ODggMTkuMDA4IDEuMzI0IDE4Ljg0IDEuMTczIDE4LjY4OSBDIDEuMDI0IDE4LjU0IDAuODU2IDE4LjI3NiAwLjc2MiAxOC4wNzkgQyAwLjY4NiAxNy44NzggMC42MiAxNy41NjIgMC42MDkgMTcuMzI5IEwgMC42MDkgMTYuNDA2IEwgMC42MDkgMTUuNDg0IEwgMC42MDkgMTQuNTYyIEwgMC42MDkgMTMuNjQgTCAyLjYwOSAxMy42NCBMIDIuNjA5IDE0LjU2MiBMIDIuNjA5IDE1LjQ4NCBMIDIuNjA5IDE2LjQwNiBMIDIuNjA5IDE3LjMyOSBDIDIuNTk4IDE3LjM1MiAyLjU5MSAxNy4zMTEgMi41OTMgMTcuMjk3IEMgMi41ODUgMTcuMjg2IDIuNTcgMTcuMjU4IDIuNTg3IDE3LjI3NSBDIDIuNjA0IDE3LjI5MiAyLjU0NSAxNy4yNjMgMi41NiAxNy4yNTkgQyAyLjU3MiAxNy4yNzQgMi41MTEgMTcuMjYzIDIuNTM0IDE3LjI1MiBMIDMuNDU5IDE3LjI1MiBMIDQuMzg0IDE3LjI1MiBMIDUuMzA5IDE3LjI1MiBMIDYuMjMzIDE3LjI1MiBaIiBzdHlsZT0iIi8+CiAgPHBhdGggZD0iTSAxMy42MzMgMTkuMjUyIEwgMTQuNTU4IDE5LjI1MiBMIDE1LjQ4MiAxOS4yNTIgTCAxNi40MDcgMTkuMjUyIEwgMTcuMzMyIDE5LjI1MiBDIDE3LjU2NCAxOS4yNDEgMTcuODc5IDE5LjE3NiAxOC4wNzggMTkuMTAzIEMgMTguMjcyIDE5LjAxMSAxOC41MzIgMTguODM2IDE4LjY5MyAxOC42ODkgQyAxOC44NCAxOC41MjggMTkuMDEyIDE4LjI3NCAxOS4xMDQgMTguMDc5IEMgMTkuMTggMTcuODc4IDE5LjI0NiAxNy41NjIgMTkuMjU3IDE3LjMyOSBMIDE5LjI1NyAxNi40MDYgTCAxOS4yNTcgMTUuNDg0IEwgMTkuMjU3IDE0LjU2MiBMIDE5LjI1NyAxMy42NCBMIDE3LjI1NyAxMy42NCBMIDE3LjI1NyAxNC41NjIgTCAxNy4yNTcgMTUuNDg0IEwgMTcuMjU3IDE2LjQwNiBMIDE3LjI1NyAxNy4zMjkgQyAxNy4yNjggMTcuMzUyIDE3LjI3MyAxNy4zMTYgMTcuMjczIDE3LjMwMSBDIDE3LjI4MyAxNy4yOTEgMTcuMjg1IDE3LjI4OCAxNy4yODkgMTcuMjgxIEMgMTcuMzAzIDE3LjI3MyAxNy4zMDYgMTcuMjcxIDE3LjMxMSAxNy4yNjcgQyAxNy4zMjQgMTcuMjY3IDE3LjM1NiAxNy4yNjMgMTcuMzMyIDE3LjI1MiBMIDE2LjQwNyAxNy4yNTIgTCAxNS40ODIgMTcuMjUyIEwgMTQuNTU4IDE3LjI1MiBMIDEzLjYzMyAxNy4yNTIgWiIgc3R5bGU9IiIvPgogIDxwYXRoIGQ9Ik0gMTMuNjMzIDAuNjUgTCAxNC41NTggMC42NSBMIDE1LjQ4MiAwLjY1IEwgMTYuNDA3IDAuNjUgTCAxNy4zMzIgMC42NSBDIDE3LjU2NCAwLjY2MSAxNy44ODMgMC43MjcgMTguMDgyIDAuODAxIEMgMTguMjc5IDAuODk1IDE4LjUzNSAxLjA2OCAxOC42OTEgMS4yMTEgQyAxOC44MzkgMS4zNzEgMTkuMDEzIDEuNjMxIDE5LjEwNSAxLjgyMyBDIDE5LjE4IDIuMDI0IDE5LjI0NiAyLjM0IDE5LjI1NyAyLjU3MiBMIDE5LjI1NyAzLjQ5NSBMIDE5LjI1NyA0LjQxNyBMIDE5LjI1NyA1LjMzOSBMIDE5LjI1NyA2LjI2MSBMIDE3LjI1NyA2LjI2MSBMIDE3LjI1NyA1LjMzOSBMIDE3LjI1NyA0LjQxNyBMIDE3LjI1NyAzLjQ5NSBMIDE3LjI1NyAyLjU3MiBDIDE3LjI2OCAyLjU1IDE3LjI3MiAyLjU4MyAxNy4yNzIgMi41OTggQyAxNy4yNzcgMi42MDMgMTcuMjgxIDIuNjA3IDE3LjI4NyAyLjYyMSBDIDE3LjI5OCAyLjYyNiAxNy4zMjMgMi42NCAxNy4zMDQgMi42NDMgQyAxNy4yOSAyLjYyNyAxNy4zNTYgMi42MzkgMTcuMzMyIDIuNjUgTCAxNi40MDcgMi42NSBMIDE1LjQ4MiAyLjY1IEwgMTQuNTU4IDIuNjUgTCAxMy42MzMgMi42NSBaIiBzdHlsZT0iIi8+CiAgPHBhdGggZD0iTSA3LjMwOCA0LjMzOSBMIDkuOTMzIDQuMzM5IEwgMTIuNTU3IDQuMzM5IEMgMTIuOTM2IDQuMzYxIDEzLjM0NCA0LjQ1OSAxMy43MTggNC42MTIgQyAxNC4wOTMgNC43NjUgMTQuNDM0IDQuOTc0IDE0LjY3OCA1LjIxOCBDIDE0LjkyMiA1LjQ2MiAxNS4xMzEgNS44MDMgMTUuMjg0IDYuMTc4IEMgMTUuNDM3IDYuNTUyIDE1LjUzNSA2Ljk2MSAxNS41NTcgNy4zMzkgTCAxNS41NTcgOS45NTEgTCAxNS41NTcgMTIuNTYyIEMgMTUuNTM1IDEyLjk0MSAxNS40MzcgMTMuMzQ5IDE1LjI4NCAxMy43MjMgQyAxNS4xMzEgMTQuMDk4IDE0LjkyMiAxNC40MzkgMTQuNjc4IDE0LjY4MyBDIDE0LjQzNCAxNC45MjcgMTQuMDkzIDE1LjEzNiAxMy43MTggMTUuMjg5IEMgMTMuMzQ0IDE1LjQ0MiAxMi45MzUgMTUuNTQgMTIuNTU3IDE1LjU2MiBMIDkuOTMzIDE1LjU2MiBMIDcuMzA4IDE1LjU2MiBDIDYuOTMgMTUuNTQgNi41MjEgMTUuNDQyIDYuMTQ3IDE1LjI4OSBDIDUuNzcyIDE1LjEzNiA1LjQzMSAxNC45MjcgNS4xODcgMTQuNjgzIEMgNC45NDMgMTQuNDM5IDQuNzM0IDE0LjA5OCA0LjU4MSAxMy43MjMgQyA0LjQyOCAxMy4zNDkgNC4zMyAxMi45NDEgNC4zMDggMTIuNTYyIEwgNC4zMDggOS45NTEgTCA0LjMwOCA3LjMzOSBDIDQuMzMgNi45NjEgNC40MjggNi41NTIgNC41ODEgNi4xNzggQyA0LjczNCA1LjgwMyA0Ljk0MyA1LjQ2MiA1LjE4NyA1LjIxOCBDIDUuNDMxIDQuOTc0IDUuNzcyIDQuNzY1IDYuMTQ3IDQuNjEyIEMgNi41MjEgNC40NTkgNi45MyA0LjM2MSA3LjMwOCA0LjMzOSBaIE0gNi42MDEgNi42MzIgQyA2LjQ4MyA2Ljc1IDYuMzk5IDYuODQgNi4zNSA2Ljk0MyBDIDYuMyA3LjA0NyA2LjI4NiA3LjE2NSA2LjMwOCA3LjMzOSBMIDYuMzA4IDkuOTUxIEwgNi4zMDggMTIuNTYyIEMgNi4yODYgMTIuNzM2IDYuMyAxMi44NTQgNi4zNSAxMi45NTggQyA2LjM5OSAxMy4wNjEgNi40ODMgMTMuMTUxIDYuNjAxIDEzLjI2OSBDIDYuNzE5IDEzLjM4NyA2LjgwOSAxMy40NzEgNi45MTMgMTMuNTIxIEMgNy4wMTYgMTMuNTcgNy4xMzQgMTMuNTg0IDcuMzA4IDEzLjU2MiBMIDkuOTMzIDEzLjU2MiBMIDEyLjU1NyAxMy41NjIgQyAxMi43MzEgMTMuNTg0IDEyLjg0OSAxMy41NyAxMi45NTIgMTMuNTIxIEMgMTMuMDU2IDEzLjQ3MSAxMy4xNDYgMTMuMzg3IDEzLjI2NCAxMy4yNjkgQyAxMy4zODIgMTMuMTUxIDEzLjQ2NiAxMy4wNjEgMTMuNTE2IDEyLjk1OCBDIDEzLjU2NSAxMi44NTQgMTMuNTc5IDEyLjczNiAxMy41NTcgMTIuNTYyIEwgMTMuNTU3IDkuOTUxIEwgMTMuNTU3IDcuMzM5IEMgMTMuNTc5IDcuMTY1IDEzLjU2NSA3LjA0NyAxMy41MTYgNi45NDQgQyAxMy40NjYgNi44NCAxMy4zODIgNi43NSAxMy4yNjQgNi42MzIgQyAxMy4xNDYgNi41MTQgMTMuMDU2IDYuNDMgMTIuOTUyIDYuMzgxIEMgMTIuODQ5IDYuMzMxIDEyLjczMSA2LjMxNyAxMi41NTcgNi4zMzkgTCA5LjkzMyA2LjMzOSBMIDcuMzA4IDYuMzM5IEMgNy4xMzQgNi4zMTcgNy4wMTYgNi4zMzEgNi45MTMgNi4zODEgQyA2LjgwOSA2LjQzIDYuNzE5IDYuNTE0IDYuNjAxIDYuNjMyIFoiIHN0eWxlPSIiLz4KPC9zdmc+'}],
                                ['xul:menuitem', {label: '颜色拾取工具',oncommand: 'event.stopPropagation(); takeSnapShotColor();',class:'menuitem-iconic', image:'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0iY29udGV4dC1maWxsIiBmaWxsLW9wYWNpdHk9ImNvbnRleHQtZmlsbC1vcGFjaXR5IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik0gOS44MzMgMjAuMDUxIEMgOC43MzMgMjAuMDUxIDcuNTg2IDE5LjgwNyA2LjYzNSAxOS40MDUgQyA1LjY4MyAxOS4wMDIgNC43NDMgMTguMzY1IDQuMDI0IDE3LjY0NSBDIDMuMzA1IDE2LjkyNiAyLjY3NiAxNS45ODMgMi4yNjMgMTUuMDM1IEMgMS44NjkgMTQuMDgxIDEuNjE3IDEyLjkzNyAxLjYxNyAxMS44MzYgQyAxLjYxNyAxMC45NDcgMS44MTEgMTAuMDI0IDIuMDkzIDkuMjM1IEMgMi4zODcgOC40NSAyLjgxNCA3LjY1OSAzLjI3NyA2Ljk2MyBDIDMuNzQzIDYuMjcxIDQuMjg3IDUuNTkgNC44MzIgNC45NjMgQyA1LjM3NiA0LjMzNiA1Ljk0NCAzLjczMSA2LjQ3OCAzLjE1NCBMIDcuMTMzIDIuNDQ5IEwgNy43ODkgMS43NDQgTCA4LjQ0NCAxLjAzNyBMIDkuODM0IC0wLjQ1OCBMIDExLjIyMSAxLjAzOCBMIDExLjg3NyAxLjc0NCBMIDEyLjUzMiAyLjQ0OSBMIDEzLjE4OSAzLjE1NiBDIDEzLjcyMyAzLjczMyAxNC4yOSA0LjMzNyAxNC44MzQgNC45NjMgQyAxNS4zNzggNS41OSAxNS45MjUgNi4yNyAxNi4zODkgNi45NjQgQyAxNi44NTQgNy42NiAxNy4yNzkgOC40NTEgMTcuNTcyIDkuMjM1IEMgMTcuODU1IDEwLjAyNCAxOC4wNDkgMTAuOTQ2IDE4LjA0OSAxMS44MzYgQyAxOC4wNDkgMTIuOTM2IDE3Ljc5NiAxNC4wODEgMTcuNDAzIDE1LjAzNSBDIDE2Ljk5IDE1Ljk4NCAxNi4zNjEgMTYuOTI2IDE1LjY0MiAxNy42NDUgQyAxNC45MjMgMTguMzY1IDEzLjk4MyAxOS4wMDIgMTMuMDMxIDE5LjQwNSBDIDEyLjA4IDE5LjgwNyAxMC45MzMgMjAuMDUxIDkuODMzIDIwLjA1MSBaIE0gMTIuMjUxIDE3LjU2MyBDIDEzLjAyNSAxNy4yMzYgMTMuNjQxIDE2LjgxNyAxNC4yMjggMTYuMjMxIEMgMTQuODE1IDE1LjY0NCAxNS4yNDIgMTUuMDMyIDE1LjU2MSAxNC4yNTUgQyAxNS44OTcgMTMuNDgyIDE2LjA0OSAxMi43MjggMTYuMDQ5IDExLjgzNiBDIDE2LjA0OSAxMS4xNDYgMTUuOTM3IDEwLjU2OCAxNS42OTQgOS45MjMgQyAxNS40NjMgOS4yNzQgMTUuMTQyIDguNjk2IDE0LjcyNyA4LjA3NiBDIDE0LjMxMSA3LjQ1NCAxMy44NDQgNi44NzIgMTMuMzI0IDYuMjc1IEMgMTIuODA2IDUuNjc4IDEyLjI2MSA1LjA5OCAxMS43MjIgNC41MTUgTCAxMS4wNjcgMy44MTEgTCAxMC40MTEgMy4xMDQgTCA5LjgzMyAyLjQ4MiBMIDkuMjU1IDMuMTA0IEwgOC41OTkgMy44MTEgTCA3Ljk0NCA0LjUxNSBDIDcuNDA1IDUuMDk3IDYuODYgNS42NzYgNi4zNDIgNi4yNzMgQyA1LjgyMyA2Ljg3IDUuMzU0IDcuNDUzIDQuOTM5IDguMDc1IEMgNC41MjIgOC42OTQgNC4yMDQgOS4yNzIgMy45NzEgOS45MjMgQyAzLjcyOSAxMC41NjggMy42MTcgMTEuMTQ3IDMuNjE3IDExLjgzNiBDIDMuNjE3IDEyLjcyOSAzLjc2OCAxMy40ODMgNC4xMDUgMTQuMjU1IEMgNC40MjQgMTUuMDMyIDQuODUxIDE1LjY0NCA1LjQzOCAxNi4yMzEgQyA2LjAyNSAxNi44MTcgNi42NDEgMTcuMjM2IDcuNDE1IDE3LjU2MyBDIDguMTkgMTcuODkxIDguOTQxIDE4LjA1MSA5LjgzMyAxOC4wNTEgQyAxMC43MjUgMTguMDUxIDExLjQ3NiAxNy44OTEgMTIuMjUxIDE3LjU2MyBaIiBzdHlsZT0iIi8+Cjwvc3ZnPg=='}],
                                ['xul:menuseparator', {}],
                                ['xul:menuitem', {label: '录制动态图片',oncommand: 'event.stopPropagation(); takeSnapShotGIF();',class:'menuitem-iconic', image:'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0iY29udGV4dC1maWxsIiBmaWxsLW9wYWNpdHk9ImNvbnRleHQtZmlsbC1vcGFjaXR5IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik0gMTguMzAzIDE0LjUwOCBMIDE0LjA0NiAxMS41MDggTCAxMi41NjIgOS4yNDcgTCAxNi44ODQgNS44NzMgTCAxOS44NzkgMy43NiBMIDE5Ljg3OSAxNS42MTkgTCAxOC4zMDMgMTQuNTA4IFogTSAxNy44NzkgNy42MTggTCAxOC4wMzYgNy41MDcgTCAxNC45MzggOS42OSBMIDE1LjE5OCA5Ljg3NCBMIDE3Ljg3OSAxMS43NjMgTCAxNy44NzkgNy42MTggWiIgc3R5bGU9IiIvPgogIDxwYXRoIGQ9Ik0gMy4wMzkgMy4wODkgTCA1LjA4IDMuMDg5IEwgNy4xMjEgMy4wODkgTCA5LjE2MiAzLjA4OSBMIDExLjIwMyAzLjA4OSBDIDExLjM5MyAzLjEgMTEuNTg5IDMuMTMgMTEuNzg1IDMuMTc2IEMgMTEuOTgyIDMuMjIzIDEyLjE3NyAzLjI4NiAxMi4zNjQgMy4zNjIgQyAxMi41NTIgMy40MzkgMTIuNzMxIDMuNTI5IDEyLjg5MyAzLjYzMSBDIDEzLjA1NiAzLjczMyAxMy4yMDIgMy44NDYgMTMuMzI0IDMuOTY4IEMgMTMuNDQ2IDQuMDkgMTMuNTU5IDQuMjM2IDEzLjY2MSA0LjM5OSBDIDEzLjc2MyA0LjU2MiAxMy44NTQgNC43NDEgMTMuOTMgNC45MjggQyAxNC4wMDcgNS4xMTUgMTQuMDY5IDUuMzExIDE0LjExNiA1LjUwNyBDIDE0LjE2MiA1LjcwMyAxNC4xOTIgNS45IDE0LjIwMyA2LjA4OSBMIDE0LjIwMyA3Ljg5IEwgMTQuMjAzIDkuNjkxIEwgMTQuMjAzIDExLjQ5MiBMIDE0LjIwMyAxMy4yOTIgQyAxNC4xOTIgMTMuNDgyIDE0LjE2MiAxMy42NzggMTQuMTE2IDEzLjg3NCBDIDE0LjA2OSAxNC4wNzEgMTQuMDA3IDE0LjI2NiAxMy45MyAxNC40NTMgQyAxMy44NTQgMTQuNjQxIDEzLjc2MyAxNC44MiAxMy42NjEgMTQuOTgyIEMgMTMuNTU5IDE1LjE0NSAxMy40NDYgMTUuMjkxIDEzLjMyNCAxNS40MTMgQyAxMy4yMDIgMTUuNTM1IDEzLjA1NiAxNS42NDggMTIuODkzIDE1Ljc1IEMgMTIuNzMxIDE1Ljg1MiAxMi41NTIgMTUuOTQzIDEyLjM2NCAxNi4wMTkgQyAxMi4xNzcgMTYuMDk2IDExLjk4MSAxNi4xNTggMTEuNzg1IDE2LjIwNSBDIDExLjU4OSAxNi4yNTEgMTEuMzkyIDE2LjI4MSAxMS4yMDMgMTYuMjkyIEwgOS4xNjIgMTYuMjkyIEwgNy4xMjEgMTYuMjkyIEwgNS4wOCAxNi4yOTIgTCAzLjAzOSAxNi4yOTIgQyAyLjg1IDE2LjI4MSAyLjY1MyAxNi4yNTEgMi40NTcgMTYuMjA1IEMgMi4yNjEgMTYuMTU4IDIuMDY1IDE2LjA5NiAxLjg3OCAxNi4wMTkgQyAxLjY5MSAxNS45NDMgMS41MTIgMTUuODUyIDEuMzQ5IDE1Ljc1IEMgMS4xODYgMTUuNjQ4IDEuMDQgMTUuNTM1IDAuOTE4IDE1LjQxMyBDIDAuNzk2IDE1LjI5MSAwLjY4MyAxNS4xNDUgMC41ODEgMTQuOTgyIEMgMC40NzkgMTQuODIgMC4zODkgMTQuNjQxIDAuMzEyIDE0LjQ1MyBDIDAuMjM2IDE0LjI2NiAwLjE3MyAxNC4wNzEgMC4xMjYgMTMuODc0IEMgMC4wOCAxMy42NzggMC4wNSAxMy40ODIgMC4wMzkgMTMuMjkyIEwgMC4wMzkgMTEuNDkyIEwgMC4wMzkgOS42OTEgTCAwLjAzOSA3Ljg5IEwgMC4wMzkgNi4wODkgQyAwLjA1IDUuOSAwLjA4IDUuNzAzIDAuMTI2IDUuNTA3IEMgMC4xNzMgNS4zMTEgMC4yMzYgNS4xMTUgMC4zMTIgNC45MjggQyAwLjM4OSA0Ljc0MSAwLjQ3OSA0LjU2MiAwLjU4MSA0LjM5OSBDIDAuNjgzIDQuMjM2IDAuNzk2IDQuMDkgMC45MTggMy45NjggQyAxLjA0IDMuODQ2IDEuMTg2IDMuNzMzIDEuMzQ5IDMuNjMxIEMgMS41MTIgMy41MjkgMS42OTEgMy40MzkgMS44NzggMy4zNjIgQyAyLjA2NSAzLjI4NiAyLjI2MSAzLjIyMyAyLjQ1NyAzLjE3NiBDIDIuNjUzIDMuMTMgMi44NSAzLjEgMy4wMzkgMy4wODkgWiBNIDIuMzMyIDUuMzgyIEMgMi4yNzMgNS40NDEgMi4yMjMgNS40OTMgMi4xODEgNS41NDMgQyAyLjEzOSA1LjU5MyAyLjEwNiA1LjY0MiAyLjA4MSA1LjY5MyBDIDIuMDU2IDUuNzQ1IDIuMDQgNS44MDEgMi4wMzMgNS44NjUgQyAyLjAyNiA1LjkyOSAyLjAyOCA2LjAwMiAyLjAzOSA2LjA4OSBMIDIuMDM5IDcuODkgTCAyLjAzOSA5LjY5MSBMIDIuMDM5IDExLjQ5MSBMIDIuMDM5IDEzLjI5MiBDIDIuMDI4IDEzLjM3OSAyLjAyNiAxMy40NTIgMi4wMzMgMTMuNTE2IEMgMi4wNCAxMy41OCAyLjA1NiAxMy42MzYgMi4wODEgMTMuNjg4IEMgMi4xMDYgMTMuNzM5IDIuMTM5IDEzLjc4OCAyLjE4MSAxMy44MzggQyAyLjIyMyAxMy44ODggMi4yNzMgMTMuOTQgMi4zMzIgMTMuOTk5IEMgMi4zOTEgMTQuMDU4IDIuNDQzIDE0LjEwOCAyLjQ5MyAxNC4xNSBDIDIuNTQ0IDE0LjE5MiAyLjU5MiAxNC4yMjYgMi42NDQgMTQuMjUxIEMgMi42OTYgMTQuMjc1IDIuNzUxIDE0LjI5MSAyLjgxNSAxNC4yOTggQyAyLjg3OSAxNC4zMDUgMi45NTIgMTQuMzAzIDMuMDM5IDE0LjI5MiBMIDUuMDggMTQuMjkyIEwgNy4xMjEgMTQuMjkyIEwgOS4xNjIgMTQuMjkyIEwgMTEuMjAzIDE0LjI5MiBDIDExLjI5IDE0LjMwMyAxMS4zNjMgMTQuMzA1IDExLjQyNyAxNC4yOTggQyAxMS40OTIgMTQuMjkxIDExLjU0NyAxNC4yNzYgMTEuNTk5IDE0LjI1MSBDIDExLjY1MSAxNC4yMjYgMTEuNjk5IDE0LjE5MiAxMS43NDkgMTQuMTUgQyAxMS43OTkgMTQuMTA4IDExLjg1MSAxNC4wNTggMTEuOTEgMTMuOTk5IEMgMTEuOTY5IDEzLjk0IDEyLjAyIDEzLjg4OCAxMi4wNjIgMTMuODM4IEMgMTIuMTA0IDEzLjc4OCAxMi4xMzcgMTMuNzM5IDEyLjE2MiAxMy42ODggQyAxMi4xODcgMTMuNjM2IDEyLjIwMiAxMy41OCAxMi4yMDkgMTMuNTE2IEMgMTIuMjE2IDEzLjQ1MiAxMi4yMTQgMTMuMzc5IDEyLjIwMyAxMy4yOTIgTCAxMi4yMDMgMTEuNDkxIEwgMTIuMjAzIDkuNjkxIEwgMTIuMjAzIDcuODkgTCAxMi4yMDMgNi4wODkgQyAxMi4yMTQgNi4wMDIgMTIuMjE2IDUuOTI5IDEyLjIwOSA1Ljg2NSBDIDEyLjIwMiA1LjgwMSAxMi4xODcgNS43NDUgMTIuMTYyIDUuNjk0IEMgMTIuMTM3IDUuNjQyIDEyLjEwNCA1LjU5MyAxMi4wNjIgNS41NDMgQyAxMi4wMiA1LjQ5MyAxMS45NjkgNS40NDEgMTEuOTEgNS4zODIgQyAxMS44NTEgNS4zMjMgMTEuNzk5IDUuMjcyIDExLjc0OSA1LjIzMSBDIDExLjY5OSA1LjE4OSAxMS42NTEgNS4xNTYgMTEuNTk5IDUuMTMxIEMgMTEuNTQ3IDUuMTA2IDExLjQ5MiA1LjA5IDExLjQyNyA1LjA4MyBDIDExLjM2MyA1LjA3NiAxMS4yOSA1LjA3OCAxMS4yMDMgNS4wODkgTCA5LjE2MiA1LjA4OSBMIDcuMTIxIDUuMDg5IEwgNS4wOCA1LjA4OSBMIDMuMDM5IDUuMDg5IEMgMi45NTIgNS4wNzggMi44NzkgNS4wNzYgMi44MTUgNS4wODMgQyAyLjc1MSA1LjA5IDIuNjk1IDUuMTA2IDIuNjQzIDUuMTMxIEMgMi41OTIgNS4xNTYgMi41NDMgNS4xODkgMi40OTMgNS4yMzEgQyAyLjQ0MyA1LjI3MyAyLjM5MSA1LjMyMyAyLjMzMiA1LjM4MiBaIiBzdHlsZT0iIi8+Cjwvc3ZnPg=='}],
                                ['xul:menuitem', {label: '完整截图工具',oncommand: 'event.stopPropagation(); takeSnapshotFSCapture();',class:'menuitem-iconic', image:'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0iY29udGV4dC1maWxsIiBmaWxsLW9wYWNpdHk9ImNvbnRleHQtZmlsbC1vcGFjaXR5IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik0gMC4zMTEgMi42NzQgTCAyLjU4MiAyLjY3NCBMIDQuODUyIDIuNjc0IEwgNi42OTMgMi42NzQgTCA4LjUzNCAyLjY3NCBMIDEwLjM3NSAyLjY3NCBMIDEyLjIxNiAyLjY3NCBMIDE0LjA1NyAyLjY3NCBMIDE1Ljg5NyAyLjY3NCBMIDE2LjM5NyAyLjY3NCBMIDE2Ljg5NyAyLjY3NCBMIDE2Ljg5NyAzLjE3NCBMIDE2Ljg5NyAzLjY3NCBMIDE2Ljg5NyA1LjUxNSBMIDE2Ljg5NyA3LjM1NiBMIDE2Ljg5NyA5LjE5NyBMIDE2Ljg5NyAxMS4wMzggTCAxNi44OTcgMTIuODc5IEwgMTYuODk3IDE0LjcyIEwgMTYuODk3IDE3LjAwMyBMIDE2Ljg5NyAxOS4yODYgTCAxNS44OTcgMTkuMjg2IEwgMTQuODk3IDE5LjI4NiBMIDE0Ljg5NyAxNy4wMDMgTCAxNC44OTcgMTQuNzIgTCAxNC44OTcgMTIuODc5IEwgMTQuODk3IDExLjAzOCBMIDE0Ljg5NyA5LjE5NyBMIDE0Ljg5NyA3LjM1NiBMIDE0Ljg5NyA2LjAxNSBMIDE0Ljg5NyA0LjY3NCBMIDEzLjU1NyA0LjY3NCBMIDEyLjIxNiA0LjY3NCBMIDEwLjM3NSA0LjY3NCBMIDguNTM0IDQuNjc0IEwgNi42OTMgNC42NzQgTCA0Ljg1MiA0LjY3NCBMIDIuNTgxIDQuNjc0IEwgMC4zMTEgNC42NzQgTCAwLjMxMSAzLjY3NCBaIiBzdHlsZT0iIi8+CiAgPHBhdGggZD0iTSAyLjU1NiAxNS42MDEgTCA0LjM4OCAxMy43NjkgTCA2LjIxOSAxMS45MzggTCA4LjA1MSAxMC4xMDYgTCA5Ljg4MiA4LjI3NSBMIDExLjcxNCA2LjQ0MyBMIDEzLjU0NSA0LjYxMiBMIDE1LjY0MiAyLjU1OSBMIDE3LjczOCAwLjUwNiBMIDE4LjQ0NSAxLjIxMyBMIDE5LjE1MiAxLjkyIEwgMTcuMDU2IDMuOTczIEwgMTQuOTU5IDYuMDI2IEwgMTMuMTI4IDcuODU3IEwgMTEuMjk2IDkuNjg5IEwgOS40NjUgMTEuNTIgTCA3LjYzMyAxMy4zNTIgTCA1LjgwMiAxNS4xODMgTCAzLjk3IDE3LjAxNSBMIDMuMjYzIDE2LjMwOCBaIiBzdHlsZT0iIi8+CiAgPHBhdGggZD0iTSAxOC42MjIgMTcuNTYxIEwgMTYuMzQgMTcuNTYxIEwgMTQuMDU3IDE3LjU2MSBMIDEyLjIxNiAxNy41NjEgTCAxMC4zNzUgMTcuNTYxIEwgOC41MzQgMTcuNTYxIEwgNi42OTMgMTcuNTYxIEwgNC44NTIgMTcuNTYxIEwgMy4wMTEgMTcuNTYxIEwgMi41MTEgMTcuNTYxIEwgMi4wMTEgMTcuNTYxIEwgMi4wMTEgMTcuMDYxIEwgMi4wMTEgMTYuNTYxIEwgMi4wMTEgMTQuNzIgTCAyLjAxMSAxMi44NzkgTCAyLjAxMSAxMS4wMzggTCAyLjAxMSA5LjE5NyBMIDIuMDExIDcuMzU2IEwgMi4wMTEgNS41MTUgTCAyLjAxMSAzLjIzMiBMIDIuMDExIDAuOTQ5IEwgMy4wMTEgMC45NDkgTCA0LjAxMSAwLjk0OSBMIDQuMDExIDMuMjMyIEwgNC4wMTEgNS41MTUgTCA0LjAxMSA3LjM1NiBMIDQuMDExIDkuMTk3IEwgNC4wMTEgMTEuMDM4IEwgNC4wMTEgMTIuODc5IEwgNC4wMTEgMTQuMjIgTCA0LjAxMSAxNS41NjEgTCA1LjM1MiAxNS41NjEgTCA2LjY5MyAxNS41NjEgTCA4LjUzNCAxNS41NjEgTCAxMC4zNzUgMTUuNTYxIEwgMTIuMjE2IDE1LjU2MSBMIDE0LjA1NyAxNS41NjEgTCAxNi4zNCAxNS41NjEgTCAxOC42MjIgMTUuNTYxIEwgMTguNjIyIDE2LjU2MSBaIiBzdHlsZT0iIi8+Cjwvc3ZnPg=='}],
                                ['xul:menuitem', {label: '打开系统画图',oncommand: 'event.stopPropagation(); takeSnapshotSystem();',class:'menuitem-iconic', image:'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0iY29udGV4dC1maWxsIiBmaWxsLW9wYWNpdHk9ImNvbnRleHQtZmlsbC1vcGFjaXR5IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik0gMTguMDMxIDkuNzA0IEMgMTguMDMxIDkuNjQyIDE4LjAyNSA5LjU4MSAxOC4wMTMgOS41MjEgQyAxOC4wMDEgOS40NjEgMTcuOTgzIDkuNDAzIDE3Ljk2IDkuMzQ3IEMgMTcuOTM3IDkuMjkxIDE3LjkwOCA5LjIzOCAxNy44NzUgOS4xODcgQyAxNy44NDEgOS4xMzcgMTcuODAyIDkuMDg5IDE3Ljc1OCA5LjA0NSBMIDE1LjY3MyA2Ljk2IEwgMTMuNTg3IDQuODc0IEwgMTEuNTAyIDIuNzg5IEwgOS40MTYgMC43MDMgQyA5LjMyNiAwLjYxMiA5LjIyMSAwLjU0NCA5LjEwOCAwLjQ5OCBDIDguOTk2IDAuNDUzIDguODc3IDAuNDMgOC43NTggMC40MyBDIDguNjM5IDAuNDMgOC41MiAwLjQ1MyA4LjQwOCAwLjQ5OCBDIDguMjk1IDAuNTQ0IDguMTkgMC42MTIgOC4wOTkgMC43MDMgTCA3LjM3NiAxLjQyNiBMIDYuNjUzIDIuMTQ4IEwgNS45MyAyLjg3MSBMIDUuMjA3IDMuNTk0IEwgNC43NTQgMy4xNCBMIDQuMyAyLjY4NiBMIDMuODQ2IDIuMjMzIEwgMy4zOTIgMS43NzkgQyAzLjI2NSAxLjY1MiAzLjExNiAxLjU3MiAyLjk2IDEuNTMzIEMgMi44MDUgMS40OTQgMi42NDQgMS40OTggMi40OTIgMS41MzggQyAyLjM0MSAxLjU3OSAyLjE5OSAxLjY1NyAyLjA4NCAxLjc2OCBDIDEuOTY5IDEuODc5IDEuODggMi4wMjQgMS44MzMgMi4xOTcgQyAxLjgxMiAyLjI3NyAxLjgwMSAyLjM1OSAxLjgwMiAyLjQ0IEMgMS44MDIgMi41MjEgMS44MTMgMi42MDEgMS44MzMgMi42NzkgQyAxLjg1NCAyLjc1NyAxLjg4NSAyLjgzMSAxLjkyNiAyLjkwMSBDIDEuOTY2IDIuOTcyIDIuMDE2IDMuMDM3IDIuMDc1IDMuMDk2IEwgMi41MjkgMy41NSBMIDIuOTgzIDQuMDAzIEwgMy40MzcgNC40NTcgTCAzLjg5IDQuOTExIEwgMy4wNzcgNS43MjUgTCAyLjI2MyA2LjUzOSBMIDEuNDQ5IDcuMzUzIEwgMC42MzUgOC4xNjcgQyAwLjQyNCA4LjM3OSAwLjI2NSA4LjYyNCAwLjE1OSA4Ljg4NiBDIDAuMDUzIDkuMTQ3IDAgOS40MjUgMCA5LjcwMyBDIDAgOS45ODEgMC4wNTMgMTAuMjU5IDAuMTU5IDEwLjUyMSBDIDAuMjY1IDEwLjc4MiAwLjQyNCAxMS4wMjggMC42MzUgMTEuMjQgTCAyLjI4MiAxMi44ODcgTCAzLjkyOSAxNC41MzMgTCA1LjU3NiAxNi4xOCBMIDcuMjIyIDE3LjgyNiBDIDcuNDM0IDE4LjAzOCA3LjY3OSAxOC4xOTcgNy45NDEgMTguMzA0IEMgOC4yMDIgMTguNDEgOC40OCAxOC40NjMgOC43NTggMTguNDYzIEMgOS4wMzYgMTguNDYzIDkuMzE0IDE4LjQxIDkuNTc2IDE4LjMwNCBDIDkuODM4IDE4LjE5NyAxMC4wODMgMTguMDM4IDEwLjI5NSAxNy44MjYgTCAxMi4xNjEgMTUuOTYgTCAxNC4wMjcgMTQuMDk0IEwgMTUuODkzIDEyLjIyOCBMIDE3Ljc1OCAxMC4zNjIgQyAxNy44MDIgMTAuMzE4IDE3Ljg0MSAxMC4yNzEgMTcuODc1IDEwLjIyIEMgMTcuOTA5IDEwLjE3IDE3LjkzNyAxMC4xMTYgMTcuOTYgMTAuMDYgQyAxNy45ODQgMTAuMDA0IDE4LjAwMSA5Ljk0NiAxOC4wMTMgOS44ODYgQyAxOC4wMjUgOS44MjcgMTguMDMxIDkuNzY2IDE4LjAzMSA5LjcwNCBaIE0gOC45NzggMTYuNTA5IEMgOC45NDggMTYuNTQgOC45MTMgMTYuNTYyIDguODc1IDE2LjU3NyBDIDguODM4IDE2LjU5MyA4Ljc5OCAxNi42IDguNzU4IDE2LjYgQyA4LjcxOSAxNi42IDguNjc5IDE2LjU5MyA4LjY0MSAxNi41NzcgQyA4LjYwNCAxNi41NjIgOC41NjkgMTYuNTQgOC41MzkgMTYuNTA5IEwgNi44OTMgMTQuODYzIEwgNS4yNDYgMTMuMjE2IEwgMy41OTkgMTEuNTcgTCAxLjk1MiA5LjkyMyBDIDEuOTIyIDkuODkzIDEuODk5IDkuODU4IDEuODg0IDkuODIxIEMgMS44NjkgOS43ODMgMS44NjEgOS43NDQgMS44NjEgOS43MDQgQyAxLjg2MSA5LjY2NCAxLjg2OSA5LjYyNCAxLjg4NCA5LjU4NyBDIDEuODk5IDkuNTUgMS45MjIgOS41MTUgMS45NTIgOS40ODQgTCAyLjc2NiA4LjY3MSBMIDMuNTggNy44NTcgTCA0LjM5NCA3LjA0MyBMIDUuMjA3IDYuMjI5IEwgNS42MyA2LjY1MiBMIDYuMDUzIDcuMDc0IEwgNi40NzYgNy40OTcgTCA2Ljg5OCA3LjkxOSBDIDYuNjY3IDguNDA1IDYuNTg4IDguOTA3IDYuNjM1IDkuMzg1IEMgNi42ODEgOS44NjMgNi44NTIgMTAuMzE3IDcuMTE4IDEwLjcwNCBDIDcuMzg1IDExLjA5MiA3Ljc0NyAxMS40MTQgOC4xNzcgMTEuNjI4IEMgOC42MDggMTEuODQzIDkuMTA1IDExLjk1IDkuNjQxIDExLjkwNyBDIDkuODA3IDExLjg5NCA5Ljk3IDExLjg2NiAxMC4xMjggMTEuODI1IEMgMTAuMjg3IDExLjc4MyAxMC40NDIgMTEuNzI4IDEwLjU5IDExLjY1OSBDIDEwLjczOSAxMS41OTEgMTAuODgxIDExLjUwOSAxMS4wMTYgMTEuNDE2IEMgMTEuMTUxIDExLjMyMiAxMS4yNzggMTEuMjE3IDExLjM5NSAxMS4wOTkgQyAxMS43NzYgMTAuNzE5IDEyLjAxNyAxMC4yNzIgMTIuMTMzIDkuODA1IEMgMTIuMjUgOS4zMzkgMTIuMjQgOC44NTUgMTIuMTE4IDguNCBDIDExLjk5NyA3Ljk0NiAxMS43NjIgNy41MjEgMTEuNDI5IDcuMTc2IEMgMTEuMDk1IDYuODMgMTAuNjYyIDYuNTY0IDEwLjE0MiA2LjQyNCBDIDkuOTgyIDYuMzgxIDkuODE4IDYuMzUzIDkuNjU0IDYuMzM5IEMgOS40OTEgNi4zMjUgOS4zMjYgNi4zMjYgOS4xNjMgNi4zNDEgQyA5IDYuMzU2IDguODM4IDYuMzg2IDguNjggNi40MjkgQyA4LjUyMSA2LjQ3MyA4LjM2NiA2LjUzMSA4LjIxNSA2LjYwMiBMIDcuNzkzIDYuMTggTCA3LjM3IDUuNzU3IEwgNi45NDggNS4zMzQgTCA2LjUyNSA0LjkxMSBMIDcuMDgzIDQuMzUzIEwgNy42NDEgMy43OTUgTCA4LjE5OSAzLjIzNyBMIDguNzU3IDIuNjc5IEwgMTAuNTE0IDQuNDM2IEwgMTIuMjcgNi4xOTIgTCAxNC4wMjYgNy45NDggTCAxNS43ODMgOS43MDQgTCAxNC4wODIgMTEuNDA2IEwgMTIuMzgxIDEzLjEwNyBMIDEwLjY3OSAxNC44MDggWiBNIDkuNDE5IDguMTkyIEMgOS41OTkgOC4xOTIgOS43NjEgOC4yNDEgOS44OTggOC4zMjMgQyAxMC4wMzUgOC40MDYgMTAuMTQ3IDguNTIyIDEwLjIyNSA4LjY1OCBDIDEwLjMwMyA4Ljc5NCAxMC4zNDggOC45NDkgMTAuMzUxIDkuMTA5IEMgMTAuMzU0IDkuMjY5IDEwLjMxNCA5LjQzNCAxMC4yMjQgOS41ODkgQyAxMC4xMzQgOS43NDQgMTAuMDExIDkuODYgOS44NzEgOS45MzggQyA5LjczMSAxMC4wMTUgOS41NzQgMTAuMDU0IDkuNDE3IDEwLjA1MyBDIDkuMjYgMTAuMDUzIDkuMTA0IDEwLjAxNCA4Ljk2NCA5LjkzNyBDIDguODI0IDkuODU5IDguNzAxIDkuNzQzIDguNjEyIDkuNTg4IEMgOC41NTkgOS40OTcgOC41MjQgOS4zOTkgOC41MDQgOS4zIEMgOC40ODUgOS4yMDEgOC40ODIgOS4xIDguNDk2IDkuMDAxIEMgOC41MDkgOC45MDIgOC41MzggOC44MDUgOC41ODIgOC43MTQgQyA4LjYyNyA4LjYyNCA4LjY4NiA4LjUzOSA4Ljc2MSA4LjQ2NSBDIDguODA0IDguNDIxIDguODUyIDguMzgyIDguOTAzIDguMzQ4IEMgOC45NTMgOC4zMTQgOS4wMDcgOC4yODUgOS4wNjMgOC4yNjIgQyA5LjExOSA4LjIzOSA5LjE3NyA4LjIyMSA5LjIzNyA4LjIwOSBDIDkuMjk3IDguMTk3IDkuMzU4IDguMTkxIDkuNDE5IDguMTkxIEwgOS40MTkgOC4xOTIgWiBNIDE3LjgzOSAxMy4xMjIgQyAxNy43NDggMTMuMDMxIDE3LjY0MyAxMi45NjMgMTcuNTMxIDEyLjkxNyBDIDE3LjQxOSAxMi44NzEgMTcuMyAxMi44NDggMTcuMTggMTIuODQ4IEMgMTcuMDYxIDEyLjg0OCAxNi45NDIgMTIuODcxIDE2LjgzIDEyLjkxNyBDIDE2LjcxOCAxMi45NjMgMTYuNjEzIDEzLjAzMSAxNi41MjEgMTMuMTIyIEMgMTYuNDc1IDEzLjE2OSAxNi4zMzcgMTMuMzA5IDE2LjE1OCAxMy41MjQgQyAxNS45NzggMTMuNzM4IDE1Ljc1NiAxNC4wMjYgMTUuNTM5IDE0LjM2NyBDIDE1LjMyMyAxNC43MDggMTUuMTEzIDE1LjEwMSAxNC45NTYgMTUuNTI4IEMgMTQuOCAxNS45NTQgMTQuNjk3IDE2LjQxMyAxNC42OTcgMTYuODg0IEMgMTQuNjk3IDE3LjM2MiAxNC44MjYgMTcuNzk1IDE1LjA0NiAxOC4xNjEgQyAxNS4yNjYgMTguNTI3IDE1LjU3NyAxOC44MjYgMTUuOTM5IDE5LjAzNSBDIDE2LjMwMSAxOS4yNDQgMTYuNzE1IDE5LjM2NCAxNy4xNDIgMTkuMzcxIEMgMTcuNTY4IDE5LjM3OSAxOC4wMDggMTkuMjc0IDE4LjQyMiAxOS4wMzUgQyAxOC42MTQgMTguOTI0IDE4Ljc4OCAxOC43OSAxOC45NCAxOC42MzYgQyAxOS4wOTMgMTguNDgzIDE5LjIyNCAxOC4zMTIgMTkuMzMxIDE4LjEyNiBDIDE5LjQzOSAxNy45NDEgMTkuNTIyIDE3Ljc0MSAxOS41NzggMTcuNTMyIEMgMTkuNjM1IDE3LjMyNCAxOS42NjQgMTcuMTA2IDE5LjY2NCAxNi44ODQgQyAxOS42NjQgMTYuNDE0IDE5LjU2MiAxNS45NTUgMTkuNDA1IDE1LjUyOCBDIDE5LjI0OSAxNS4xMDIgMTkuMDM4IDE0LjcwOCAxOC44MjIgMTQuMzY3IEMgMTguNjA2IDE0LjAyNiAxOC4zODMgMTMuNzM4IDE4LjIwMyAxMy41MjQgQyAxOC4wMjQgMTMuMzA5IDE3Ljg4NiAxMy4xNjkgMTcuODM5IDEzLjEyMiBaIE0gMTcuMTggMTcuNTA1IEMgMTcuMDk1IDE3LjUwNSAxNy4wMTMgMTcuNDg4IDE2LjkzOSAxNy40NTYgQyAxNi44NjUgMTcuNDI1IDE2Ljc5OCAxNy4zNzkgMTYuNzQxIDE3LjMyMyBDIDE2LjY4NSAxNy4yNjcgMTYuNjQgMTcuMiAxNi42MDggMTcuMTI2IEMgMTYuNTc3IDE3LjA1MiAxNi41NTkgMTYuOTcgMTYuNTU5IDE2Ljg4NCBDIDE2LjU1OSAxNi43NSAxNi41NzggMTYuNjEyIDE2LjYxMSAxNi40NzIgQyAxNi42NDQgMTYuMzMzIDE2LjY5MSAxNi4xOTIgMTYuNzQ4IDE2LjA1NCBDIDE2LjgwNiAxNS45MTUgMTYuODczIDE1Ljc3OCAxNi45NDYgMTUuNjQ1IEMgMTcuMDIgMTUuNTEyIDE3LjA5OSAxNS4zODQgMTcuMTc5IDE1LjI2MyBDIDE3LjI2IDE1LjM4NCAxNy4zMzkgMTUuNTEyIDE3LjQxMiAxNS42NDUgQyAxNy40ODYgMTUuNzc4IDE3LjU1NCAxNS45MTUgMTcuNjExIDE2LjA1NCBDIDE3LjY2OSAxNi4xOTMgMTcuNzE2IDE2LjMzNCAxNy43NDkgMTYuNDczIEMgMTcuNzgyIDE2LjYxMyAxNy44MDEgMTYuNzUxIDE3LjgwMSAxNi44ODQgQyAxNy44MDEgMTYuOTcgMTcuNzgzIDE3LjA1MiAxNy43NTIgMTcuMTI2IEMgMTcuNzIgMTcuMiAxNy42NzUgMTcuMjY3IDE3LjYxOSAxNy4zMjMgQyAxNy41NjMgMTcuMzggMTcuNDk2IDE3LjQyNSAxNy40MjIgMTcuNDU2IEMgMTcuMzQ4IDE3LjQ4OCAxNy4yNjYgMTcuNTA1IDE3LjE4IDE3LjUwNSBaIiBzdHlsZT0iIi8+Cjwvc3ZnPg=='}],
                                 //['xul:menuseparator', {}],
                                 //['xul:menuitem', {label: '上传微博图床',oncommand: 'event.stopPropagation();document.getElementById("nav-bar-overflow-button").click();setTimeout(function () {document.getElementById("weibo-picture-store_ext_hub_moe-browser-action").click(); }, 50);', tooltiptext: '需要登录微博网页版，图片不会上传到你的个人相册里。',class:'menuitem-iconic', image:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABDElEQVQ4jb3ToW4CURAF0GMRKBSuBoVGYXArSCUfwAdgalbwBfxAg+ofNEFXVuCqMBgMYkWxDY6k4g3tY7sNxXSSSd7unTtz985b/ine8IEtntC7tUEXrSCWeMf4lgZ3mKAfz4No0qhkhGe8ZoQHrLDHIt6V0udcxCKKpkF6qeHtwPuhap+DjzG1kylZR6M1dphFjqJmcibPsIkJ5+hIrq+CUOJUqyHkHFxfzUbyplsHlpjHuUAVWdTqBpJpB9znwC6bXmEYWf2ipAg1X3HKzn9pMJZMvVAwyMBKWk/TTetF/QU2CcJMMrTucjtkL6XbN22SNZQM2uIYWUk/0DEkz33fkavRktb1Y+f1+AQEET4cDdInTwAAAABJRU5ErkJggg=='}],
                             //['xul:menuitem', {label: '如何使用？',oncommand: 'event.stopPropagation(); var x = gBrowser.selectedTab._tPos + 1; gBrowser.moveTabTo(gBrowser.selectedTab =gBrowser.addTab("https://www.runningcheese.com/firefox-usage", {triggeringPrincipal: gBrowser.contentPrincipal}), x);',class:'menuitem-iconic', image:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAARVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC8VMwGAAAAFnRSTlMA9VeHORGTMtgNdu7gjn4tGMxmXrtEk5FsbgAAAHtJREFUGNNtT1kOhSAQK8KwuaG+1/sfVQYzHyY2oZk2aVPwCfELmTcxPbkYSgmRk+lkx3BE9Y88BJdrALYVqLPI7IG1P+QAnN1UIywAqLkdlUmFGUg8Oxc+kY4jKoespeP0f+Wopc1d2jFyrj17KnZW1TaVNv39OS/4wg0/lwQ14TDpOwAAAABJRU5ErkJggg=='}]
                        ];
        aNode.appendChild(jsonToDOM(myMenuJson, aNode.ownerDocument, {}));
        aNode.setAttribute('contextmenu', 'QuickSnapshot_pop');
    }
});


//定义图标
var cssStr = '@-moz-document url("chrome://browser/content/browser.xul"), url(chrome://browser/content/browser.xhtml){'
		 + '#QuickSnapshot .toolbarbutton-icon {'
		 + 'list-style-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIG1lZXQiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9Ii1tcy10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik0gMTAgOC41NTEgQyA3LjY5MSA4LjU1MSA2LjI0NyAxMS4wNTEgNy40MDIgMTMuMDUxIEMgNy45MzggMTMuOTc5IDguOTI4IDE0LjU1MSAxMCAxNC41NTEgQyAxMi4zMDkgMTQuNTUxIDEzLjc1MyAxMi4wNTEgMTIuNTk4IDEwLjA1MSBDIDEyLjA2MiA5LjEyMyAxMS4wNzIgOC41NTEgMTAgOC41NTEgWiBNIDE4IDQuNjA3IEwgMTUuNiA0LjYwNyBDIDE1LjI0NyA0LjU5MSAxNC45MzcgNC4zNjcgMTQuODExIDQuMDM3IEwgMTQuMTkgMi4xNzYgQyAxNC4wNjMgMS44NDYgMTMuNzUzIDEuNjIzIDEzLjQgMS42MDcgTCA2LjYgMS42MDcgQyA2LjI3IDEuNjA3IDUuOTE0IDEuODYzIDUuODExIDIuMTc1IEwgNS4xODkgNC4wMzcgQyA1LjA2MyA0LjM2NyA0Ljc1MyA0LjU5MSA0LjQgNC42MDcgTCAyIDQuNjA3IEMgMC45IDQuNjA3IDAgNi40NTEgMCA3LjU1MSBMIDAgMTYuNTUxIEMgMCAxNy42NTEgMC45IDE4LjU1MSAyIDE4LjU1MSBMIDE4IDE4LjU1MSBDIDE5LjEgMTguNTUxIDIwIDE3LjY1MSAyMCAxNi41NTEgTCAyMCA3LjU1MSBDIDIwIDYuNDUxIDE5LjEgNC42MDcgMTggNC42MDcgWiBNIDEwIDE2LjU1MSBDIDcuMjM5IDE2LjU1MSA1IDE0LjMxMiA1IDExLjU1MSBDIDUgNy43MDIgOS4xNjcgNS4yOTYgMTIuNSA3LjIyMSBDIDE0LjA0NyA4LjExNCAxNSA5Ljc2NSAxNSAxMS41NTEgQyAxNSAxNC4zMTIgMTIuNzYxIDE2LjU1MSAxMCAxNi41NTEgWiBNIDE3LjUgOC43NTEgQyAxNi45NjEgOC43NTEgMTYuNjI0IDguMTY4IDE2Ljg5NCA3LjcwMSBDIDE3LjAxOSA3LjQ4NCAxNy4yNSA3LjM1MSAxNy41IDcuMzUxIEMgMTguMDM5IDcuMzUxIDE4LjM3NiA3LjkzNCAxOC4xMDYgOC40MDEgQyAxNy45ODEgOC42MTggMTcuNzUgOC43NTEgMTcuNSA4Ljc1MSBaIiBmaWxsPSIjNWE1YTVhIi8+Cjwvc3ZnPg==)'
		 + '}}';
	var sss = Cc["@mozilla.org/content/style-sheet-service;1"].getService(Ci.nsIStyleSheetService);
	var ios = Cc["@mozilla.org/network/io-service;1"].getService(Ci.nsIIOService);
	sss.loadAndRegisterSheet(ios.newURI("data:text/css;base64," + btoa(cssStr), null, null), sss.USER_SHEET);




//定义函数
 
function    takeSnapshot() {var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsIFile);file.initWithPath("/System/Applications/Utilities/Screenshot.app");file.launch();};

function    takeSnapshotHide() {window.minimize(); var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsIFile);file.initWithPath("/System/Applications/Utilities/Screenshot.app");file.launch();};

function    takeSnapShotGIF() { var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsIFile);file.initWithPath("/Applications/GIF Brewery 3.app");file.launch();};

function    takeSnapShotColor() { var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsIFile);file.initWithPath("/System/Applications/Utilities/Digital Color Meter.app");file.launch();};

function    takeSnapshotJietu() { var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsIFile);file.initWithPath("/Applications/iShot.app");file.launch();};

function    takeSnapshotSystem() { var file = Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsIFile);file.initWithPath("/System/Applications/Stickies.app");file.launch();};

